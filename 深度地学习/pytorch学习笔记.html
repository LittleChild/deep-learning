<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/602628 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="512"/>

<div>
<span><div><span style="color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;; font-weight: bold;">torch.flatten</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>torch.flatten(input, start_dim=0, end_dim=-1)</div></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">input: 一个 tensor，即要被“推平”的 tensor。</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">start_dim: “推平”的起始维度。</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">end_dim: “推平”的结束维度。</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">首先如果按照 start_dim 和 end_dim 的默认值，那么这个函数会把 input 推平成一个 shape 为</span><span style="font-size: 13px; text-indent: 0px; text-transform: none; letter-spacing: normal; word-spacing: 0px; overflow-wrap: normal; white-space: nowrap; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; orphans: 2; widows: 2; -webkit-text-stroke-width: 0px; position: static; top: 0px; clip: rect(1px 1px 1px 1px); user-select: none; box-sizing: content-box; height: 1px !important; width: 1px !important; overflow: hidden !important; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: normal;">[n]</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">的tensor，其中</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 13px; text-indent: 0px; text-transform: none; letter-spacing: normal; word-spacing: 0px; overflow-wrap: normal; white-space: nowrap; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; orphans: 2; widows: 2; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); position: static; top: 0px; clip: rect(1px 1px 1px 1px); user-select: none; box-sizing: content-box; height: 1px !important; width: 1px !important; overflow: hidden !important; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: normal;">n</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">即 input 中元素个数。</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">（这里注意的一点是，维度是从下标 </span><span style="font-size: 13px; text-indent: 0px; text-transform: none; letter-spacing: normal; word-spacing: 0px; overflow-wrap: normal; white-space: nowrap; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; orphans: 2; widows: 2; -webkit-text-stroke-width: 0px; position: static; top: 0px; clip: rect(1px 1px 1px 1px); user-select: none; box-sizing: content-box; height: 1px !important; width: 1px !important; overflow: hidden !important; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: normal;">0 </span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">开始的）</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">pytorch中的 torch.nn.Flatten 类和 torch.Tensor.flatten 方法其实都是基于上面的 torch.flatten 函数实现的。</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">torch.max()</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>output = torch.max(input, dim)</div></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: unset; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">input输入的是一个tensor</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">dim是max函数索引的维度0/1，0是每列的最大值，1是每行的最大值</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">output 是对应的最值和对应的下标索引</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">对比numpy.max() ，多了下标索引的返回值</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">实例</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>import torch</div><div>import numpy as np</div><div>import matplotlib.pyplot as plt</div><div>x = torch.randn(3,3)</div><div>print(x)</div><div>max_value,index = torch.max(x,dim=1) #返回的是两个值，一个是每一行最大值的tensor组，另一个是最大值所在的位置</div><div>print(max_value,index)</div><div>max_lie_value = torch.max(x,dim=0)[0].numpy() #每一列最大值</div><div>max_hang_value = torch.max(x,dim=1)[0].numpy() #每一行最大值</div><div>print('max_lie_value:',max_lie_value,'\nmax_hang_value',max_hang_value)</div></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">输出</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>tensor([[ 1.0625, -0.7129,  0.0849],</div><div>        [ 0.9122, -0.5969,  1.2351],</div><div>        [-0.2937,  0.0923, -0.4093]])</div><div>tensor([1.0625, 1.2351, 0.0923]) tensor([0, 2, 1])</div><div>max_lie_value: [1.0625167  0.09232075 1.2350996 ]</div><div>max_hang_value [1.0625167  1.2350996  0.09232075]</div></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="font-size: 13px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">torch.optim.lr_scheduler</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">用来调整学习率，</span><span style="font-size: 13px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">提供了多种基于epoch训练次数进行学习率调整的方法</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div># Observe that all parameters are being optimized</div><div>optimizer_ft = optim.SGD(model_ft.parameters(), lr=0.001, momentum=0.9)</div><div><br/></div><div># Decay LR by a factor of 0.1 every 7 epochs</div><div>lr_scheduler.StepLR(optimizer_ft, step_size=7, gamma=0.1)</div></div></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">这里是每隔7个epoch，学习率×0.1</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">StepLR </span><span style="font-size: 13px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">每隔多少epoch学习率成比率下降，其实不是每个多少个epoch，你在每个batch后运行这个，他也会更新，所以是每运行多少次这个函数scheduler.step()，更新以下学习率。</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px;"><br/></span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;; font-weight: bold;">torch.cat</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;;">两个tensor是A和B，想把他们拼接在一起</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>C = torch.cat( (A,B), dim= 0 )  #按维数0拼接（竖着拼）</div><div>C = torch.cat( (A,B), dim= 1 )  #按维数1拼接（横着拼）</div></div><div><br/></div></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 13px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(17, 17, 17); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 13px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; font-weight: bold;">torch.squeeze /</span> <span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">torch.unsqueeze</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px;">维度进行压缩 / 扩充</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px;">就是把原来的tensor中的多余的维度去掉或者增加一个维度。</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>A = torch.ones([1, 2, 3, 4])</div><div>print(A.shape())</div><div>#输出（1，2，3，4）</div><div>B = A.squeeze( dim = 0 )  #将0序号位置的维度压缩，即去掉该位置的维度，如果是2则，去掉位置2的维度（<b>前提是位置2上本来维度是1，否则不会有变化</b>）</div><div>print(B.shape())</div><div>#输出（2，3，4）</div><div>C = A.squeeze( dim = 0 )  #将0序号位置的维度扩充，即在该位置的增加一个维度</div><div>print(C.shape())</div><div>#输出（1, 1, 2，3，4）</div></div><div><br/></div><div><br/></div></span>
</div></body></html> 